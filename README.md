# CppXiangqi
## 简介
本程序包含两个部分：一个能够模拟中国象棋棋盘和象棋走子（无论何种规则，除普通的明子外，还支持暗子，即背面朝上的子）的类，和一个腾讯游戏《天天象棋》中“揭棋”模式的简单ai。
## 程序内容
程序在命令行下运行，没有提供图形化界面，但保留了必要接口。
本程序设计的初衷是做一个揭棋模式的复盘和对弈程序，因此根据“揭棋”的特殊规则设计了一个专门存储象棋棋盘的类。由于揭棋的复杂性，这个类基本上也可以胜任大多数中国象棋的玩法和民间规则的记录工作。
此外，这个程序对“揭棋”模式提供了比较简单的一个AI。
## 算法原理
对象棋棋盘的记录参考了《电脑象棋的设计与实现》论文中的实现方式，并加入了一些新的数组用于维护“揭棋”中的暗子，在程序中有必要的注释。
AI通过搜索和局面打分的方式实现，进行了alpha-beta剪枝，大约可以在1秒内计算3层。
由于“揭棋”中暗子的存在，导致该游戏两边玩家的信息不对称，传统的象棋等博弈搜索的优化方法大多都无法套用；同时由于暗子翻开时是车、马、炮、兵等的多种可能性会对局面的后续发展产生比较重大的影响，必须分开考虑，导致游戏的决策树非常宽。这两个技术难点在我进行了两周的尝试后以失败告终（可以查阅历史commit中被注释的一些内容）。在下面的TODO中有我对这个程序有可能的改进方向的预估。
## TODO
- 加入图形界面
- 两人对弈、人机对弈等游戏模式
- 对局记录与回放功能
- 更强大的ai
  - 考虑利用蒙特卡洛搜索树，并使用类似AlphaGo等的深度学习算法进行剪枝
  - 尝试加入传统象棋软件的一些剪枝方式，如宁静搜索等
  - 调参，优化局面打分
- 把这份README翻译成英文。